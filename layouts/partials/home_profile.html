<div class="intro">
    {{ with .Site.Params.avatar}}
    {{ $avatar := .}}
    <div class="avatar">
        <!--homepage-->
        <a> <img src="{{ (printf "%s" $avatar)}}"> </a>
    </div>
    {{ end }}
    {{ with .Site.Params.subtitle}}
    <h2 class="description">
        {{ . }}
    </h2>
    {{ end }}
    {{ with .Site.Params.notice}}
    <h2 class="notice">
        
        <script>
// 首页显示公告（homemode=profile）
_Blog.showNotice = function (url) {
    function setNotice(response) {
        try {
            let res = JSON.parse(response)
            if (res.code === 0 && res.data.length > 0) {
                let nh = res.data
                    .map(d => {
                        return '- ' + d.content
                    })
                    .join('<br>')
                let pre = '<h4><i class="iconfont reco-tongzhi"></i> 公告</h4>'
                document.getElementById('notice').innerHTML = pre + nh
            }
        } catch {
            console.error('invalid json response')
        }
    }
    ajax({
        url: '{{ . }}',
        type: 'GET',
        data: { catalog: 4 },
        dataType: 'json',
        success: function (res) {
            let me = document.querySelector(
                '#app .info-wrapper .personal-info-wrapper'
            )
            if (!me) return
            let div = document.createElement('div')
            div.id = 'notice'
            me.appendChild(div)
            setNotice(res)
        }
    })
}

        </script>
    </h2>
    {{ end }}
    <div class="social-links">
        {{ partial "social.html" . }}
    </div>
</div>

{{ if .IsHome }}
    {{ partial "wechat.html" . }}
{{ end }}